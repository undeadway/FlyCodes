(()=>{var e={449:(e,t,r)=>{const{aspectBase:a,parseEqualToObject:l,compireH5Video:c,compireH5Audio:n}=r(827),s=/\n(\n(>(.*)\n)+)/,i=/\n>/g;function o(e){for(;s.test(e);){let t=RegExp.$1.replace(i,"\n");t=t.slice(1);let r=t.indexOf("\n"),a=t.slice(0,r),l=String.startsWith(a,"(")&&String.endsWith(a,")"),c=l?a.slice(1,a.length-1):"引用",n=l?t.slice(r+1):t;n=o(n),e=e.replace(s,`<fieldset><legend>${c}</legend>${n}</fieldset>`)}return e}const p=function(){const e=/(\*+\. (.)+\n)+/,t=/([0-9]+\. (.)+\n)+/,r=/([a-z]+\. (.)+\n)+/,a=/[0-9]+\. /g,l=/[a-z]+\. /g,c=/\*+\. /g,n=/\n/g,s="</ol>";function i(e,t,r,a,l){var c=t.replace(r,"<li>");return c=c.replace(n,"</li>"),e.replace(t,a+c+l)}return function(n){for(;null!==(matches=n.match(e));)n=i(n,matches[0],c,"<ul>","</ul>");for(;null!==(matches=n.match(t));)n=i(n,matches[0],a,'<ol class="list_type_1">',s);for(;null!==(matches=n.match(r));)n=i(n,matches[0],l,'<ol class="list_type_a">',s);return n}}(),g=/\[#([0-9,A-F]{6})\|((.|\s)*?)\]/i,h=/\[(#|@|\$|V|A)\]\(((.|\s)*?)\)/,u={"#":e=>{let t=e.split("|"),r=t[0],a=O(t[1])||r,l=4===t.length&&t[2]||r,c=t[4===t.length?3:2];return c&&"new"!==c||(c="blank"),`<a href="${r}" title="${l}" target="_${c}">${a}</a>`},"@":e=>{let t=e.split("|"),r=t[0];return`<a href="mailto:${r}">${t[1]||r}</a>`},$:e=>{let t=e.split("|"),r=t[0],a=`<img src="${r}" title="${t[1]||r}"`;return t[2]&&(a+=' width="'+t[2]+'"'),t[3]&&(a+=' height="'+t[3]+'"'),a+=' onload="styles.Image.resize(this)" onclick="styles.Image.protoSize(this)" />',a},V:e=>{let t=e.split("|"),r=t.shift(),a={};return l(t,a),c(r,a)},A:e=>n(e)},f=/(\|(.)+\|\n)+/,m=/\|/g,d=/\[\^((\S)+)?\]/,$=/\\\//,b=/\/\*((.|\s)*?)\*\//g,E=/\/((.|\s){1,})\//g,_=/!((.|\s)*?)!/g,v=/-((.|\s)*?)-/g,y=/_((.|\s)*?)_/g,x=/\n>>((.|\s)+?)<<\n/,R=/\n\|\:((.|\s)+?)<<\n/,A=/\n>>((.|\s)+?)\:\|\n/,j=/\?\(([1-9]([0-9]?)):((.|\s)*?)\)/,k=/###### (.*?)(\n|$)/g,S=/##### (.*?)(\n|$)/g,L=/#### (.*?)(\n|$)/g,w=/### (.*?)(\n|$)/g,z=/## (.*?)(\n|$)/g,T=/# (.*?)(\n|$)/g;function O(e){return e?e=function(e){for(;g.test(e);){var t,r=RegExp.$1,a=RegExp.$2,l=a.split("|");t=2===l.length?'<span class="'+l[0]+"_"+r+'">'+l[1]+"</span>":'<span class="color_'+r+'">'+l[0]+"</span>",e=e.replace("[#"+r+"|"+a+"]",t)}return e}(e=(e=(e=(e=(e=e.replace(E,"<em>$1</em>")).replace(y,"<ins>$1</ins>")).replace(_,"<strong>$1</strong>")).replace(v,"<del>$1</del>")).replace(j,'<span class="size_$1">$3</span>')):e}const I=e.exports=r(439).create((e=>{e=e.replace(b,String.BLANK);let t=function(){let e=a("links");return e.before=t=>{for(;h.test(t);){let r=RegExp.$1,a=RegExp.$2,l=u[r](a);t=e.replace(t,`[${r}](${a})`,l)}return t},e}(),r=function(){let e=a("align");return e.before=t=>{for(;null!==(matches=t.match(x));){let r=O(matches[0]),a=r.replace(x,'<div class="align_center">$1</div>');t=e.replace(t,r,a)}for(;null!==(matches=t.match(R));){let r=O(matches[0]),a=r.replace(R,'<div class="align_left">$1</div>');t=e.replace(t,r,a)}for(;null!==(matches=t.match(A));){let r=O(matches[0]),a=r.replace(A,'<div class="align_right">$1</div>');t=e.replace(t,r,a)}return t},e}(),l=function(){let e=a("escapes");return e.before=t=>{for(;null!==(matches=t.match($));)t=e.replace(t,matches[0],part);return t},e}();return e=t.before(e),e=l.before(e),e=o(e=O(e=r.before(e))),e=(e=(e=(e=(e=(e=(e=function(e){let t=new Set,r=1;for(;null!==(matches=e.match(d));){let a=matches[0],l=matches[1];if(t.has(a)){let t=`<a id="l_${l}" href="#f_${l}">^</a> ${r}: `;e=e.replace(d,t),r++}else{t.add(a);let r=`<sup id="f_${l}"><a href="#l_${l}">${t.size}</a></sup> `;e=e.replace(d,r)}}return e}(e=function(e){for(;null!==(matches=e.match(f));){let t=matches[0],r=[];Array.forEach(t.split("\n"),(function(e,t){1!==e&&(String.isEmpty(t)||(t=t.slice(1,t.length-1),r.push("<td>"+t.replace(m,"</td><td>")+"</td>")))}));let a='<table class="table"><tr>'+r.join("</tr><tr>")+"</tr></table>";e=e.replace(t,a)}return e}(e=p(e)))).replace(k,'<h1 class="h6">$1</h1>')).replace(S,'<h1 class="h5">$1</h1>')).replace(L,'<h1 class="h4">$1</h1>')).replace(w,'<h1 class="h3">$1</h1>')).replace(z,'<h1 class="h2">$1</h1>')).replace(T,'<h1 class="h1">$1</h1>'),e=r.after(e),e=l.after(e),t.after(e)}),{object:[{regexp:/\[\[((.|\s)*?)\]\]/,tag:{start:"[[",end:"]]",html:"pre",attrs:{class:"pre"}}},{regexp:/{{((.|\s)*?)}}/,tag:{start:"{{",end:"}}",html:"ruby"},replace:[{from:/\(/g,to:"<rp>(</rp><rt>"},{from:/\)/g,to:"</rt><rp>)</rp>"}]}],aspect:{simpleLineCode:{regexp:/`([^`]+?)`/,tag:{start:"`",end:"`"}},escapeSequence:/\\(\S)/}});I.clear=e=>e,I.getVersion=e=>e?r(24)(`./${e}`):I},293:(e,t,r)=>{Coralian.dom.newXmlWrapper,Number.isNumber,Coralian.Formatter.formatFileSize;let a=r(323);var l,c,n,s,i,o,p=["黑线","怒","眼泪","炸毛","蛋定","微笑","汗","囧","卧槽","坏笑","鼻血","大姨妈","瞪眼","你说啥","一脸血","害羞","大好","喝茶看戏","美～","笑岔","中箭","呕","撇嘴","碎掉","吐舌头","纳尼","泪流满面","升仙","扭曲","闪闪亮","山","寨","基","惊","头顶青天","不错","吃屎","牛","严肃","作死","帅","腹黑","喜闻乐见","呵呵呵","！","？","吓尿了","嘁","闪电","S1","战斗力爆表","贼笑","嗯...","喵","奸笑"];e.exports=(l={PRE_REGEXP:/\[\[((.|\s)*?)\]\]/,PRE_START_TAG:"[[",PRE_END_TAG:"]]"},c=function(){const e=/(\|(.)+\|\n)+/,t=/\<td\>\n\<\/td\>/g;return VERTICAL_BAR=/\|/g,function(r){for(;null!==(matches=r.match(e));){let e=matches[0],a=e.replace(VERTICAL_BAR,"</td><td>");a=a.replace(t,"</tr><tr>"),a='<table class="table"><tr>'+a.slice(5,a.length-5)+"</tr></table>",r=r.replace(e,a)}return r}}(),n=function(){const e=/(\*+\. (.)+\n)+/,t=/([0-9]+\. (.)+\n)+/,r=/([a-z]+\. (.)+\n)+/,a=/[0-9]+\. /g,l=/[a-z]+\. /g,c=/\*+\. /g,n=/\n/g,s="</ol>";function i(e,t,r,a,l){var c=t.replace(r,"<li>");return c=c.replace(n,"</li>"),e.replace(t,a+c+l)}return function(n){for(;null!==(matches=n.match(e));)n=i(n,matches[0],c,"<ul>","</ul>");for(;null!==(matches=n.match(t));)n=i(n,matches[0],a,'<ol class="list_type_1">',s);for(;null!==(matches=n.match(r));)n=i(n,matches[0],l,'<ol class="list_type_a">',s);return n}}(),s=/\\(.)/,i=/\n{2,}/,o=/\n{2,}/g,{toHTML:function(e){let t=a();return t&&Object.forEach(t,(function(t,r){e=r.before(e)})),e=(e=e.replace(/</g,"&lt;")).replace(/>/g,"&gt;"),e=function(e){for(var t=0,r=p.length;t<r;t++){var a=p[t],l=new RegExp("\\["+a+"\\]","g");l.test(e)&&(e=e.replace(l,'<img src="/res/flies/face/'+(100+t)+'.gif" title="'+a+'" />'))}return e}(e=this.parse(e)),t&&Object.forEach(t,(function(t,r){e=r.after(e)})),function(e){try{e=decodeURIComponent(e)}catch(e){}return e}(e=e.replace(/\<\/(p|pre)\>\n/,"</$1>"))},parse:function(e){var t,r,a=(t=[],{before:function(e){for(;s.test(e);)e=e.replace(s,"{backslash"+t.length+"}"),t.push(RegExp.$1);return e},after:function(e){return Object.forEach(t,(function(t,r){e=e.replace(new RegExp("\\{backslash"+t+"\\}","g"),r)})),e}}),p=(r=[],{before:function(e){for(;/`((.)*?)`/.test(e);){let t=RegExp.$1;e=e.replace("`"+t+"`","[lineCode"+r.length+"]"),r.push('<code class="code">'+t+"</code>")}return e},after:function(e){return Object.forEach(r,(function(t,r){e=e.replace(new RegExp("\\[lineCode"+t+"\\]","g"),r)})),e}});e=p.before(e),e=(e=(e=(e=(e=(e=function(e){for(;/\n&gt;( (.|\s)*?|)\n((.|\s)*?)(\n{2}|$)/.test(e);){var t=RegExp.$1||"引用",r=RegExp.$3,a="\n&gt;"+RegExp.$1+"\n"+r+RegExp.$5,l='<fieldset class="fieldset"><legend>'+String.trim(t)+"</legend>"+r+"</fieldset>";e=e.replace(a,l)}return e}(e=(e=(e=a.before(e)).replace(/\/\*((.|\s)*?)\*\//g,"")).replace(/\/((.|\s){1,})\//g,"<em>$1</em>"))).replace(/!((.|\s)*?)!/g,"<strong>$1</strong>")).replace(/\[\-:((.|\s)*?)\]/g,"<input type=checkbox name=$1 />")).replace(/\[\+:((.|\s)*?)\]/g,"<input type=checkbox checked=checked name=$1 />")).replace(/-((.|\s)*?)-/g,"<del>$1</del>")).replace(/_((.|\s)*?)_/g,"<ins>$1</ins>"),e=n(e),e=(e=(e=(e=(e=(e=(e=function(e){for(;/\$\(((.|\s)*?)\)/.test(e);){var t=RegExp.$1,r=t.split("|"),a=r[0].replace(/<\/?(em)>/g,"/"),l='<img src="'+(a=(a=a.replace(/<\/?(ins)>/g,"_")).replace(/<\/?(del)>/g,"-"))+'"';l+=' title="'+(r[1]||a)+'"',r[2]&&(l+=' width="'+r[2]+'"'),r[3]&&(l+=' height="'+r[3]+'"'),l+=' onload="styles.Image.resize(this)" onclick="styles.Image.protoSize(this)" />',e=e.replace("$("+t+")",l)}return e}(e=function(e){for(;/#\(((.|\s)*?)\)/.test(e);){var t=RegExp.$1,r=t.split("|"),a=r[0],l='<a href="'+a+'"';l+=' title="'+(4===r.length&&r[2]||a)+'"';var c=r[4===r.length?3:2];c&&(l+=' target="_'+c+'"'),l+=">",l+=r[1]||a,l=(l+="</a>").replace(/<\/?em>/g,"/"),e=e.replace("#("+t+")",l)}return e}(e=function(e){for(;/\[#([0-9,A-F]{6})\|((.|\s)*?)\]/i.test(e);){var t,r=RegExp.$1,a=RegExp.$2,l=a.split("|");t=2===l.length?'<span class="'+l[0]+"_"+r+'">'+l[1]+"</span>":'<span class="color_'+r+'">'+l[0]+"</span>",e=e.replace("[#"+r+"|"+a+"]",t)}return e}(e=(e=function(e,t,r,a){for(;t.test(e);){var l=RegExp.$1,c="{{"+l+"}}",n="<ruby>"+(l=(l=l.replace(/\(/g,"<rp>(</rp><rt>")).replace(/\)/g,"</rt><rp>)</rp>"))+"</ruby>";e=e.replace(c,n)}return e}(e=(e=(e=(e=c(e)).replace(/\n&gt;&gt;((.|\s)+)&lt;&lt;\n/g,'<div class="align_center">$1</div>')).replace(/\n\|\:((.|\s)+)&lt;&lt;\n/g,'<div align="align_left">$1</div>')).replace(/\n&gt;&gt;((.|\s)+)\:\|\n/g,'<div align="align_right">$1</div>'),/\{\{((.|\s)*?)\}\}/)).replace(/\?\(([1-9]([0-9]?)):((.|\s)*?)\)/,'<span class="size_$1">$3</span>'))))).replace(/###### (.*?)(\n|$)/g,'<h6 class="h6">$1</h6>')).replace(/##### (.*?)(\n|$)/g,'<h5 class="h5">$1</h5>')).replace(/#### (.*?)(\n|$)/g,'<h4 class="h4">$1</h4>')).replace(/### (.*?)(\n|$)/g,'<h3 class="h3">$1</h3>')).replace(/## (.*?)(\n|$)/g,'<h2 class="h2">$1</h2>')).replace(/# (.*?)(\n|$)/g,'<h1 class="h1">$1</h1>');var g=function(e){var t=[];return{before:function(r){for(;e.PRE_REGEXP.test(r);){var a=RegExp.$1;r=r.replace(e.PRE_START_TAG+a+e.PRE_END_TAG,"{pre"+t.length+"}"),t.push('<pre class="pre">'+a+"</pre>")}return r},after:function(e){return Object.forEach(t,(function(t,r){e=e.replace("{pre"+t+"}",r)})),e}}}(l);return e=(e=function(e){return i.test(e)&&(e=e.replace(i,"<p>"),i.test(e)&&(e=e.replace(o,"</p><p>")),e+="</p>"),e.replace(/\<p\>\<\/p\>/g,"")}(e=g.before(e))).replace(/\n/g,"<br />"),e=g.after(e),e=a.after(e),p.after(e)},clear:function(e){return e}})},357:(e,t,r)=>{const a=/\n(\n(>(.*)\n)+)/,l=/\n>/g;function c(e){for(;a.test(e);){let t=RegExp.$1.replace(l,"\n");t=t.slice(1);let r=t.indexOf("\n"),n=t.slice(0,r),s=String.startsWith(n,"(")&&String.endsWith(n,")"),i=s?n.slice(1,n.length-1):"引用",o=s?t.slice(r+1):t;o=c(o),e=e.replace(a,`<fieldset><legend>${i}</legend>${o}</fieldset>`)}return e}var n=function(){const e=/(\*+\. (.)+\n)+/,t=/([0-9]+\. (.)+\n)+/,r=/([a-z]+\. (.)+\n)+/,a=/[0-9]+\. /g,l=/[a-z]+\. /g,c=/\*+\. /g,n=/\n/g,s="</ol>";function i(e,t,r,a,l){var c=t.replace(r,"<li>");return c=c.replace(n,"</li>"),e.replace(t,a+c+l)}return function(n){for(;null!==(matches=n.match(e));)n=i(n,matches[0],c,"<ul>","</ul>");for(;null!==(matches=n.match(t));)n=i(n,matches[0],a,'<ol class="list_type_1">',s);for(;null!==(matches=n.match(r));)n=i(n,matches[0],l,'<ol class="list_type_a">',s);return n}}();const s=/\[#([0-9,A-F]{6})\|((.|\s)*?)\]/i,i=/#\(((.|\s)*?)\)/,o=/\$\(((.|\s)*?)\)/,p=/(\|(.)+\|\n)+/,g=/\|/g,h=/\\\//,u=/\/\*((.|\s)*?)\*\//g,f=/\/((.|\s){1,})\//g,m=/!((.|\s)*?)!/g,d=/-((.|\s)*?)-/g,$=/_((.|\s)*?)_/g,b=/\n>>((.|\s)+?)<<\n/,E=/\n\|\:((.|\s)+?)<<\n/,_=/\n>>((.|\s)+?)\:\|\n/,v=/\?\(([1-9]([0-9]?)):((.|\s)*?)\)/,y=/###### (.*?)(\n|$)/g,x=/##### (.*?)(\n|$)/g,R=/#### (.*?)(\n|$)/g,A=/### (.*?)(\n|$)/g,j=/## (.*?)(\n|$)/g,k=/# (.*?)(\n|$)/g;e.exports=commons=r(439).create((e=>{e=e.replace(u,String.BLANK);let t=function(e){let t=[];return{before:e=>{for(;i.test(e);){var r=RegExp.$1,a=r.split("|"),l=a[0],c='<a href="'+l+'"';c+=' title="'+(4===a.length&&a[2]||l)+'"';var n=a[4===a.length?3:2];n&&(c+=' target="_'+n+'"'),c+=">",c+=a[1]||l,c=(c+="</a>").replace(/<\/?em>/g,"/"),e=e.replace("#("+r+")",`{links~${t.length}}`),t.push(c)}return e},after:e=>(Array.forEach(t,((t,r)=>{e=e.replace(`{links~${t}}`,r)})),e)}}(),r=function(e){let t=[];return{before:e=>{for(;o.test(e);){var r=RegExp.$1,a=r.split("|"),l=a[0].replace(/<\/?(em)>/g,"/"),c='<img src="'+(l=(l=l.replace(/<\/?(ins)>/g,"_")).replace(/<\/?(del)>/g,"-"))+'"';c+=' title="'+(a[1]||l)+'"',a[2]&&(c+=' width="'+a[2]+'"'),a[3]&&(c+=' height="'+a[3]+'"'),c+=' onload="styles.Image.resize(this)" onclick="styles.Image.protoSize(this)" />',e=e.replace("$("+r+")",`{images~${t.length}}`),t.push(c)}return e},after:e=>(Array.forEach(t,((t,r)=>{e=e.replace(`{images~${t}}`,r)})),e)}}(),a=function(){let e=[];return{before:t=>{for(;null!==(matches=t.match(b));){let r=matches[0],a=r.replace(b,'<div class="align_center">$1</div>');t=t.replace(r,`{align~${e.length}}`),e.push(a)}for(;null!==(matches=t.match(E));){let r=matches[0],a=r.replace(E,'<div class="align_left">$1</div>');t=t.replace(r,`{align~${e.length}}`),e.push(a)}for(;null!==(matches=t.match(_));){let r=matches[0],a=r.replace(_,'<div class="align_right">$1</div>');t=t.replace(r,`{align~${e.length}}`),e.push(a)}return t},after:t=>(Array.forEach(e,((e,r)=>{t=t.replace(`{align~${e}}`,r)})),t)}}(),l=function(){let e=[];return{before:t=>{for(;null!==(matches=t.match(h));){let r=matches[0];t=t.replace(r,`{escape~${e.length}}`),e.push(r)}return t},after:t=>(Array.forEach(e,((e,r)=>{t=t.replace(`{escape~${e}}`,r)})),t)}}();return e=t.before(e),e=r.before(e),e=l.before(e),e=(e=(e=a.before(e)).replace(f,"<em>$1</em>")).replace($,"<ins>$1</ins>"),e=a.after(e),e=l.after(e),e=r.after(e),e=(e=(e=c(e=t.after(e))).replace(m,"<strong>$1</strong>")).replace(d,"<del>$1</del>"),(e=(e=(e=(e=(e=(e=function(e){for(;s.test(e);){var t,r=RegExp.$1,a=RegExp.$2,l=a.split("|");t=2===l.length?'<span class="'+l[0]+"_"+r+'">'+l[1]+"</span>":'<span class="color_'+r+'">'+l[0]+"</span>",e=e.replace("[#"+r+"|"+a+"]",t)}return e}(e=(e=function(e){for(;null!==(matches=e.match(p));){let t=matches[0],r=[];Array.forEach(t.split("\n"),(function(e,t){1!==e&&(String.isEmpty(t)||(t=t.slice(1,t.length-1),r.push("<td>"+t.replace(g,"</td><td>")+"</td>")))}));let a='<table class="table"><tr>'+r.join("</tr><tr>")+"</tr></table>";e=e.replace(t,a)}return e}(e=n(e))).replace(v,'<span class="size_$1">$3</span>'))).replace(y,'<h1 class="h6">$1</h1>')).replace(x,'<h1 class="h5">$1</h1>')).replace(R,'<h1 class="h4">$1</h1>')).replace(A,'<h1 class="h3">$1</h1>')).replace(j,'<h1 class="h2">$1</h1>')).replace(k,'<h1 class="h1">$1</h1>')}),{object:[{regexp:/\[\[((.|\s)*?)\]\]/,tag:{start:"[[",end:"]]",html:"pre"}},{regexp:/{{((.|\s)*?)}}/,tag:{start:"{{",end:"}}",html:"ruby"},replace:{start:{from:/\(/g,to:"<rp>(</rp><rt>"},end:{from:/\)/g,to:"</rt><rp>)</rp>"}}}],aspect:{simpleLineCode:{regexp:/`([^`]+?)`/,tag:{start:"`",end:"`"}},escapeSequence:/\\(\S)/}}),commons.clear=e=>e},323:e=>{const t=FlyHighLighter.execute,r={regexp:/```(.*[\r\n]+)((.|\s)*?)```/,code:"$2",name:"$1"};function a(){let e=[];return{before:function(a){for(;r.regexp.test(a);){var l,c=RegExp[r.code],n=RegExp[r.name];l=n?"```"+n+c+"```":"```"+c+"```",a=a.replace(l,"[toCode"+e.length+"]"),c=t(c,String.trim(n)),e.push(c)}return a},after:function(t){return Object.forEach(e,(function(e,r){t=t.replace("[toCode"+e+"]",r)})),t}}}e.exports=()=>[a()]},24:(e,t,r)=>{var a={"./0.0.0":293,"./0.0.0.js":293,"./0.0.1":357,"./0.0.1.js":357,"./plugin":323,"./plugin.js":323};function l(e){var t=c(e);return r(t)}function c(e){if(!r.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}l.keys=function(){return Object.keys(a)},l.resolve=c,e.exports=l,l.id=24},439:(e,t,r)=>{const{aspectBase:a,decodeHtmlTag:l,compireObjectToXmlAtruibute:c}=r(827),n=/\n/g,s=Coralian.constants.HtmlTag.PRE;function i(e,t){for(;null!==(matched=e.match(t.regexp));){let r=t.tag.html,a=c(t.tag.attrs),l=matched[1],n=t.tag.start+l+t.tag.end;r===s&&(l=l.replace("<","&lt;"),l=l.replace(">","&gt;")),t.replace&&Array.forEach(t.replace,((e,t)=>{l=l.replace(t.from,t.to)}));let i=`<${r}${a}>${l}</${r}>`;e=e.replace(n,i)}return e}const o={simpleLineCode:e=>{let t=a("linecode");return t.before=r=>{for(;e.regexp.test(r);){let a=RegExp.$1,c=l(a),n=e.tag.start+a+e.tag.end,s=`<code class="code">${c}</code>`;r=t.replace(r,n,s)}return r},t},escapeSequence:e=>{let t=a("backslash");return t.before=r=>{for(;e.test(r);){let a=RegExp.$1;r=t.replace(r,e,a)}return r},t}};e.exports={create:(e,t)=>({toHTML:(r,a={})=>{let{queue:l,aspect:c,object:s}=a,p=[];return c&&Array.forEach(c,((e,t)=>{let a=t.method(t.object);r=a.before(r),p.push(a)})),t.aspect&&Object.forEach(t.aspect,((e,t)=>{let a=o[e](t);a&&(r=a.before(r),p.push(a))})),r=e(r),t.object&&Array.forEach(t.object,((e,t)=>{r=i(r,t)})),s&&Array.forEach(s,((e,t)=>{r=i(r,t)})),Array.forEach(p,((e,t)=>{r=t.after(r)})),t.queue&&Array.forEach(t.queue,((e,t)=>{r=t(r)})),l&&Array.forEach(l,((e,t)=>{r=t(r)})),function(e){try{return decodeURIComponent(e)}catch(t){return e}}(r=r.replace(n,"<br />"))}})}},372:(e,t,r)=>{const a=String.BLANK,{compireH5Video:l,parseEqualToObject:c}=r(827),n=function(){const e=/align=(left|center|right|justify)/,t=/(width|height)=(\d+)/,r=/size=\((\d+),(\d+)\)/;function a(a,l){let c=!1,n=!1;if(null!==(matched=a.match(e))&&(l+=' class="flyimg img_'+matched[1]+'"'),null!==(matched=a.match(t))&&(c=!0,l+=" "+matched[1]+'="'+matched[2]+'"'),null!==(matched=a.match(r))&&(n=!1,l+=' width="'+matched[1]+'" height="'+matched[2]+'"'),c&&n)throw new Error("不能同时指定 size 和 with 或 height。");return l+' onload="styles.Image.resize(this)" onclick="styles.Image.protoSize(this)" />'}const l=/\[img (align|size|width|height)=([^\[]+)\]([^\[]+)\[\/img\]/,c=/\[img=([^\[]*) (align|size|width|height)=([^\[]+)\]([^\[]+)\[\/img\]/,n=/\[img=([^\[]*)\](.+?)\[\/img\]/g,s=/\[img\]([^\[]*)\[\/img\]/g;return function(e){for(;null!==(matched=e.match(l));){let t="[img "+matched[1]+"="+matched[2]+"]"+matched[3]+"[/img]",r='<img src="'+matched[3]+'"';e=e.replace(t,a(t,r))}for(;null!==(matched=e.match(c));){let t="[img="+matched[1]+" "+matched[2]+"="+matched[3]+"]"+matched[4]+"[/img]",r='<img src="'+matched[1]+'" title="'+matched[4]+'"';e=e.replace(t,a(t,r))}return(e=e.replace(s,'<img class="flyimg" title="$1" src="$1" onload="styles.Image.resize(this)" onclick="styles.Image.protoSize(this)" />')).replace(n,'<img class="flyimg" src="$1" title="$2" onload="styles.Image.resize(this)" onclick="styles.Image.protoSize(this)" />')}}(),s=function(){const e=Coralian.constants.HtmlTag.OL;function t(e,t){return t=t||Coralian.constants.HtmlTag.UL,String.isEmpty(e)?e:((e=e.split("[*]")).shift(),"<"+t+"><li>"+e.join("</li><li>")+"</li></"+t+">")}const r=/\[list\]((.|\s)*?)\[\/list\]/,l=/\[list=(a|A|1|\*|#|o|i|I|α|一|あ|ア)( [^\[]+)*\]((.|\s)*?)\[\/list\]/;return function(c){for(;null!==(matched=c.match(r));)c=c.replace("[list]"+matched[1]+"[/list]",t(matched[1]));for(;null!==(matched=c.match(l));){let r,l=matched[1];if(params=matched[2]||String.BLANK,outParam=a,inner=matched[3],className="list_type_",!String.isEmpty(params)){if(params=params.split(" "),params.length>2)throw new Error("参数个数不正确");for(let e=0;e<2;e++)if("reversed"===params[e])outParam+=" reversed";else{if(!String.startsWith(params[e],"start"))throw new Error("参数不正确");outParam+=' start="'+params[e].last()+'"'}}switch(l){case"#":className+="square";break;case"*":className+="disc";break;case"o":className+="circle";break;case"α":className+="greek",r=e;break;case"一":className+="shuzi",r=e;break;case"あ":className+="hira",r=e;break;case"ア":className+="kata",r=e;break;default:r=e,className+=l}c=c.replace("[list="+l+params+"]"+inner+"[/list]",t(inner,r))}return c}}(),i=/\[url]((.|\s)*?)\[\/url\]/g,o=/\[url target=([^\[]*)\]((.|\s)*?)\[\/url\]/g,p=/\[url=([^\[]*) target=([^\[]*)\]((.|\s)*?)\[\/url]/g,g=/\[url=([^\[]*)\]((.|\s)*?)\[\/url\]/g,h=function(){const e={bilibili:function({url:e,page:t}){return t=t||1,e.replace("av",""),l(e,{scrolling:"no",border:0,framespacing:0})},youku:function({url:e}){return l(`http://player.youku.com/embed/${e}`)},common:(e,t)=>l(e,t)},t=/\[video=([^\]]+)\]([^\]]+)\[\/video\]/,r="[video=%1]%2[/video]",a=/(([^\]]+))*\(([^\]]+)\)/,n=/\[video\]([^\]]+)\[\/video\]/,s="[video]%2[/video]";function i(t,r,a,l,c,n){let s=(l&&e[l]||e.common)(c,n);return r=(r=r.replace("%1",a)).replace("%2",c),t.replace(r,s)}return function(e){if(1===arguments.length){for(;null!==(matched=e.match(n));)e=i(e,s,null,null,matched[1]);for(;null!==(matched=e.match(t));){let t=name=matched[1],l=matched[2].split(","),n=l[0],s=l[1]||"",o={};s&&(o.page=s);let p=t.match(a);null!==p&&(name=p[1],c(p[3].split(","),o)),e=i(e,r,t,name,n,o)}}else e=i(e,arguments[1],arguments[2],arguments[3],arguments[4]||"");return e}}(),u=/\[flash=bilibili]([^\[]+)\.swf\?aid=([^\[]+)\[\/flash]/,f=/\[flash]([^\[]+)\[\/flash]/,m="youku",d=/\[(tr|td) ([^\[]+)=([^\[]+)\]/g,$=/\[table ([^\[]+)=([^\[]+)\]/g,b=/\[table\]/g,E=/\[\/table\]/g,_='<table class="table">',v=/\[(\/)?(quote|p|table|td|tr|list|align)\]\n\[(\/)?(quote|p|table|td|tr|list|align)/,y=/\[\/(size|color|font|bgcolor)\]/g,x=/\[(\/)?(sub|sup|del|p|tr|td|mark)]/g,R=/\[(\/)?h([1-6])]/g,A=/\[size=(\d+?)]/g,j=/\[(bg|)color=\#([^\[\<]+?)]/g,k=/\[align=(left|center|right|justify)\]((.|\s)*?)\[\/align\]/g,S=/\[u\](.+?)\[\/u]/g,L=/\[quote\]/g,w=/\[quote=([^\]]+)\]/g,z=/\[\/(quote|thunder|magnet)\]/g,T=/\[thunder=([^\]]+)\]([^\[]+)/g,O=/\[magnet=([^\]]+)\]([^\[]+)/g;OLD_BOLD_REGX=/\[b(old)?\](.+?)\[\/b(old)?]/g,OLD_ITALIC_REGX=/\[i(talic)?\](.+?)\[\/i(talic)?]/g,TAIL_EXE_REGX_1=/\<(\/)?(div|fieldset|tr|pre|table|p|h[1-6]|pre|li|ul|ol)\>\<br( \/)?\>/g,TAIL_EXE_REGX_2=/\<br( \/)?\>\<(\/)?(div|fieldset|tr|table|p|h[1-6]|pre|li|ul|ol)/g;const I=e.exports=r(439).create((e=>(e=function(e){for(;null!==(matched=e.match(u));){let t=matched[1],r=matched[2],a=r.split("&amp;page=");e=h(e,"[flash=bilibili]"+t+".swf?aid="+r+"[/flash]","bilibili",a[0],a[1])}for(;null!==(matched=e.match(f));){let t=matched[1],r=`[flash]${t}[/flash]`;if(String.contains(t,m)){let a=t.split("/");e=h(e,r,m,a[a.length-2])}else e=e.replace(f,'<embed src="$1" allowFullScreen="true" name="movie" value="opaque" width="634" height="440" type="application/x-shockwave-flash" />')}return e}(e=e.replace(v,"[$1$2][$3$4")),e=(e=(e=function(e){return(e=(e=(e=e.replace(d,'<$1 $2="$3">')).replace($,_)).replace(b,_)).replace(E,"</table>")}(e=(e=(e=(e=(e=(e=h(e)).replace(y,"</span>")).replace(x,"<$1$2>")).replace(R,'<$1h$2 class="$1h$2">')).replace(A,'<span class="size_$1">')).replace(j,'<span class="$1color_$2">'))).replace(k,'<div class="align_$1">$2</div>')).replace(S,"<ins>$1</ins>"),e=s(e),(e=(e=(e=(e=(e=(e=(e=(e=(e=function(e){return(e=(e=(e=e.replace(i,'<a href="$1">$1</a>')).replace(o,'<a href="$2" title="$2" target="_$1">$2</a>')).replace(p,'<a href="$1" title="$1" target="_$2">$3</a>')).replace(g,'<a href="$1" title="$2">$2</a>')}(e=n(e))).replace(L,'<fieldset class="fieldset"><legend>引用</legend><div>')).replace(w,'<fieldset class="fieldset"><legend>$1</legend><div>')).replace(z,"</div></fieldset>")).replace(T,'<fieldset class="fieldset"><legend>迅雷资源</legend><div><a href="$1" title="$2">$2</a>')).replace(O,'<fieldset class="fieldset"><legend>磁力链接</legend><div><a href="$1" title="$2">$2</a>')).replace(OLD_BOLD_REGX,"<strong>$2</strong>")).replace(OLD_ITALIC_REGX,"<em>$2</em>")).replace(TAIL_EXE_REGX_1,"<$1$2>")).replace(TAIL_EXE_REGX_2,"<$2$3"))),{object:[{regexp:/\[pre\]((.|\s)*?)\[\/pre\]/,tag:{start:"[pre]",end:"[/pre]",html:"pre"}},{regexp:/\[phonics\]((.|\s)*?)\[\/phonics\]/,tag:{start:"[phonics]",end:"[/phonics]",html:"ruby"},replace:[{from:/\(/g,to:"<rp>(</rp><rt>"},{from:/\)/g,to:"</rt><rp>)</rp>"}]}],aspect:{simpleLineCode:{regexp:/\[code\]((.)*?)\[\/code\]/,tag:{start:"[code]",end:"[/code]"}}}});I.clear=e=>(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\[\/(size|color|font|backcolor)\]/g,a)).replace(/\[(\/)?(sub|flash|sup|underline|i|p|del|b|quote|tucao|magnet|ed2k|thunder)\]/g,a)).replace(/\[\/align\]/g,a)).replace(/\[(\/)?h([1-6])\]/g,a)).replace(/\[align=(left|center|right|justify)\]/g,a)).replace(/\[size=(\d+?)\]/g,a)).replace(/\[(color|bgcolor)=\#([^\[\<]+?)\]/g,a)).replace(/\[font=([^\[\<]+?)\]/g,a)).replace(/\[list=(a|A|1)\](.+?)\[\/list\]/g,"$2")).replace(/\[(\/)?list\]/g,a)).replace(/\[img(\((left|center|right|justify)\)|)\]([^\[]*)\[\/img\]/g,"$1")).replace(/\[url([^\[]*)\]([^\[]+)\[\/url\]/g,"$2"),I.getVersion=()=>I},827:(e,t)=>{function r(e){let t=String.BLANK;for(let r in e)t+=` ${r}="${e[r]}"`;return t}t.compireH5Video=(e,t)=>function(e,t,a,l){return`<iframe class="h5video" src="${e}" ${r(t)}></iframe>`}(e,t),t.compireH5Audio=(e,t)=>e,t.parseEqualToObject=(e,t)=>{for(let r of e){let e=r.split("=");t[e[0]]=e[1]}},t.compireObjectToXmlAtruibute=r,t.aspectBase=e=>{let t=[];return{replace:(r,a,l)=>(r=r.replace(a,`{${e}~${t.length}}`),t.push(l),r),after:r=>(Array.forEach(t,((t,a)=>{r=r.replace(`{${e}~${t}}`,a)})),r)}},t.decodeHtmlTag=e=>(e=e.replace(/</g,"&lt;")).replace(/>/g,"&gt;")}},t={};function r(a){var l=t[a];if(void 0!==l)return l.exports;var c=t[a]={exports:{}};return e[a](c,c.exports,r),c.exports}r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=r(827),t="HitOn",a=r(372),l=r(449),c=new Proxy({ubbcode:a,HitOn:l},{get:(e,t)=>{let[r,a]=t.split("_");return e[r].getVersion(a)}}),n={ubbcode:{aspect:[{method:i,object:{regexp:/\[code(=((.|\s)*?))?\]((.|\s)*?)\[\/code\]/,code:"$4",name:"$2",withLang:(e,t)=>e?`[code=${e}]${t}[/code]`:`[code]${t}[/code]`}}]},HitOn:{aspect:[{method:i,object:{regexp:/```(.*[\r\n]+)((.|\s)*?)```/,code:"$2",name:"$1",withLang:(e,t)=>e?"```"+e+t+"```":"```"+t+"```"}}]}};let s=null;function i(t){let r=e.aspectBase("codes");return r.before=e=>{if(s)for(;t.regexp.test(e);){let a=RegExp[t.name],l=RegExp[t.code],c=t.withLang(a,l),n=s(l,a);e=r.replace(e,c,n)}return e},r}function o(e,t){let r=n[t];r.aspect=r.aspect||[],r.queue=r.queue||[],r.object=r.object||[],e.aspect&&e.aspect.map((e=>{r.aspect.push(e)})),e.queue&&e.queue.map((e=>{r.queue.push(e)})),e.object&&e.object.map((e=>{r.object.push(e)}))}Coralian.setToGlobal("FlyCodes",{lang:{HITON:t,UBB:"UBB"},setHighLighter:e=>{s=e},addPlugIn:(e,t)=>{if(t)o(e,t);else{let t=Object.keys(n);for(let r of t)o(e,r)}},toHTML:(e,r)=>{if(!r)return e;"UBB"===r&&(r="ubbcode");try{return e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n"),`<div class="flycodes">${c[r].toHTML(e,function(e){return String.startsWith(e,t)&&(e=t),n[e]}(r))}</div>`}catch(t){return Coralian.logger.err(t),`<pre>${e}</pre>`}},ed2k:{change:function(e){document.getElementById("ed2k_"+e)},downloadSelected:function(e){document.getElementById("ed2k_"+e)},selectAll:function(){}}})})()})();